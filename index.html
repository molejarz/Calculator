<!DOCTYPE html>
<html>
<head>
	<script>
	function to_graph(flag) {
		if (flag == "tograph") {
		document.getElementById("keyboard").style.display = "none";
		document.getElementById("rownanie").style.display = "none";
		document.getElementById("graphcontainer").style.display = "block";
		document.getElementByTagsName("body").style.margin = "0px";
		flag = null;
		}
		else {
			document.getElementById("keyboard").style.display = "block";
			document.getElementById("graphcontainer").style.display = "none";
			document.getElementById("rownanie").style.display = "block";
			}
		}

	</script>
	<script>
	var rotstat = null;
	function rotate () {
		if (rotstat == null){
			document.getElementById("graphcontainer").style.webkitTransform = "rotate(90deg)";
			document.getElementById("graphcontainer").style.transform = "rotate(90deg)";
			document.getElementById("graph").style.width = "500px";
			document.getElementById("graph").style.height = "200px";
			document.getElementById("graphcontainer").style.margin = "10px 0px 10px 0px";
			rotstat = "";
		} else {
			document.getElementById("graphcontainer").style.webkitTransform = "rotate(0deg)";
			document.getElementById("graphcontainer").style.transform = "rotate(0deg)";
			document.getElementById("graph").style.width = "300px";
			document.getElementById("graph").style.height = "400px";
			rotstat = null;
			}
		}
	</script>
<title>Calc</title>
<meta charset='utf-8'>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/> <!--320-->
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>	
<input id="rownanie">
<div id="keyboard">
	<span id="rp">=</span><br>
	<script>
	var rownanie;
	var zm1 = 0;
	var zm2;
	var uj;
	var elem = document.getElementById("rownanie");
	var rp = document.getElementById("rp");
	elem.value = 0;
	rownanie = null;
	var schowek;
		function egzo (i) {
			switch (i) {
			case 0:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(0);
					}
				else {
				elem.value = elem.value + "0";	
				}
				break;	
			case 1:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(1);
						}
					else {
				elem.value = elem.value + "1";
					}
				break;	
			case 2:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(2);
						}
					else {
				elem.value = elem.value + "2";
					}
				break;			
			case 3:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(3);
						}
					else {
				elem.value = elem.value + "3";
					}
				break;
			case 4:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(4);
						}
					else {
				elem.value = elem.value + "4";
					}
				break;
			case 5:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(5);
						}
					else {
				elem.value = elem.value + "5";
					}
				break;
			case 6:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(6);
						}
					else {
				elem.value = elem.value + "6";
					}
				break;
			case 7:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(7);
						}
					else {
				elem.value = elem.value + "7";
					}
				break;	
			case 8:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(8);
						}
					else {
				elem.value = elem.value + "8";
					}
				break;
			case 9:
				if ((elem.value == null) || (elem.value == '0')) {
				elem.value = parseFloat(9);
						}
					else {
				elem.value = elem.value + "9";
					}
				break;					
			case 10:
				elem.value = 0;
				zm1 = 0;
				rp.innerHTML = "=";
				clean_canvas();
				break;	
			case 11:
				if (rownanie == null) {
				zm1 = parseFloat(elem.value);
				}
				elem.value = null;
				rownanie = "dzielenie";
				return [zm1, rownanie];
				break;		
			case 12: 
				if (rownanie == null) {
					zm1 = parseFloat(elem.value);
					}
				elem.value = null;
				rownanie = "mnozenie";	
				return [zm1, rownanie];
				break;
			case 13:	
				if (elem.value == null) {
				elem.value = "-";
				set = "uj";
				} else
					set = null; 
					{
				if (rownanie == null) {
					zm1 = parseFloat(elem.value);
					}
				if (set != "uj") {
				elem.value = null;
					}
				else {
					elem.value = null;
					}
				rownanie = "odejmowanie";
				set = null;
				return [zm1, rownanie];
				}
				break;
			case 14: 
				if (rownanie == null) {
					zm1 = parseFloat(elem.value);
					}
				elem.value = null;
				rownanie = "dodawanie";
				return [zm1, rownanie];
				break;
			case 15: 
				zm2 = parseFloat(elem.value);		
				schowek = zm1;		
				if (rownanie == "dzielenie"){
					elem.value = zm1 / zm2;	
					rp.innerHTML = zm1 + "/" + zm2;
					rownanie = null;
					}
				if (rownanie == "dodawanie"){
					elem.value = zm1 + zm2;
					rp.innerHTML = zm1 + "+" + zm2;
					rownanie = null;
					}
				if (rownanie == "odejmowanie"){
					elem.value = zm1 - zm2;
					rp.innerHTML = zm1 + '-' + zm2;
					rownanie = null;
					}
				if (rownanie == "mnozenie"){
					elem.value = zm1 * zm2;
					rp.innerHTML = zm1 + "x" + zm2;
					rownanie = null;
					}
				if (rownanie == "potega"){
					elem.value = Math.pow(zm1, zm2);
					rp.innerHTML = zm1 + "^" + zm2;
					rownanie = null;
					}
				draw_c();
				break;
			case 16:
				schowek = elem.value;
				elem.value = parseFloat(schowek);
				elem.value = Math.log(schowek);
				rp.innerHTML = "ln(" + schowek +")";
				draw_c();
				break;
			case 17:
				schowek = elem.value;
				elem.value = parseFloat(schowek);
				elem.value = Math.sin(schowek);
				rp.innerHTML = "sin(" + schowek +")";
				draw_c();
				break;
			case 18:
				schowek = parseFloat(schowek);
				elem.value = schowek;
				rp.innerHTML = "=";
				break;
			case 19:
				schowek = elem.value;
				elem.value = parseFloat(schowek);
				elem.value = Math.tan(schowek);
				rp.innerHTML = "tangent(" + schowek +")";
				draw_c();
				break;
			case 20: 
				elem.value = elem.value + ".";
				break;	
			case 21:
				schowek = elem.value;	
				elem.value = parseFloat(elem.value);
				elem.value = Math.sqrt(elem.value);
				rp.innerHTML = "√" + schowek;
				draw_c();
				return schowek;
				break;	
			case 22:
				if (rownanie == null) {
				zm1 = parseFloat(elem.value);
				}
				elem.value = null;
				rownanie = "potega";
				draw_c();
				return [zm1, rownanie];
				break;
			case 23:				
				if (rownanie == null) {
				zm1 = parseFloat(elem.value);
				}
				elem.value = parseFloat(elem.value);
				elem.value = Math.exp(elem.value);
				rp.innerHTML = "e^" + zm1;
				draw_c();
				return zm1;
				break;
			case 24:
				schowek = elem.value;
				elem.value = parseFloat(schowek);
				elem.value = Math.asin(schowek);
				rp.innerHTML = "arcsine(" + schowek + ")";
				draw_c();
				break;
			case 25:
				schowek = elem.value;
				elem.value = parseFloat(elem.value);
				elem.value = Math.acos(elem.value);
				rp.innerHTML = "arccosine(" + schowek + ")";
				draw_c();
				break;
			case 26:
				schowek = elem.value;
				elem.value = parseFloat(elem.value);
				elem.value = Math.cos(elem.value);
				rp.innerHTML = "cosine(" + schowek + ")";
				draw_c();
				break;
			case 27:
				schowek = elem.value;
				elem.value = parseFloat(elem.value);
				elem.value = Math.atan(elem.value);
				rp.innerHTML = "arctangent(" + schowek + ")";
				draw_c();
				break;
			case 28:
				elem.value = Math.PI;
				break;
			case 29:
				elem.value = Math.E;
				break;
			case 30:
				rp.innerHTML = "abs(" + elem.value + ")";
				elem.value = Math.abs(elem.value);
				draw_c();
				break;
			case 31:
				elem.value = null;
				break;
			return rownanie;
			}
		}
	</script>

<br />
	<button onclick="egzo(28)">π</button><button onclick="egzo(29)">e</button><button onclick="egzo(30)">abs</button>
	<button id="dzielenie" onclick="egzo(23)">e^x</button><button onclick="egzo(10)">CE</button><button onclick="egzo(31)">C</button><button onclick="egzo(18)">↩</button><br />
	<button onclick="egzo(7)">7</button><button onclick="egzo(8)">8</button><button onclick="egzo(9)">9</button>
		<button onclick="egzo(11)">/</button><button  onclick="egzo(16)">ln</button><button onclick="egzo(19)">tan</button><button onclick="egzo(27)">atan</button>
	<br />
	<button onclick="egzo(4)">4</button><button onclick="egzo(5)">5</button><button onclick="egzo(6)">6</button>
	<button id="mnozenie" onclick="egzo(12)">*</button><button onclick="egzo(21)">√</button><button onclick="egzo(26)">cos</button><button onclick="egzo(25)">acos</button><br />
	<button onclick="egzo(1)">1</button><button onclick="egzo(2)">2</button><button onclick="egzo(3)">3</button>
	<button id="odejmowanie" onclick="egzo(13)">-</button><button onclick="egzo(22)">x^y</button><button onclick="egzo(17)">sin</button><button onclick="egzo(24)">asin</button><br />
	<button style="width:80px" onclick="egzo(0)">0</button><button onclick="egzo(20)">.</button>
	<button id="dodawanie" onclick="egzo(14)">+</button><button onclick="egzo(15)" style="width:120px; background-color:lightgrey;">=</button><br />
	<br />
	<button id="graphicbutton" onclick="to_graph('tograph')" style="width:80px">See graph</button>
	</div>
		<div id="graphcontainer">
<button onclick="draw_line()" style="width:100px">x line</button><button style="width:100px" onclick="clean_canvas()">Clean</button><button style="width:100px" onclick="rotate()">Rotate</button>
	<script>
	 var x;
	 var y = 0;
	 var poz_x2;
	 var y10;
	 var poz_x1 = 75;
	 
	function draw_c() {
	 var b_canvas = document.getElementById("graph");
	 var context = b_canvas.getContext("2d"); 
	 context.lineWidth=2;	
	 context.strokeStyle = '#000000';
	 x = parseFloat(elem.value);
	 poz_x2 = (75-x); 
	 y10 = y + 10;
	 context.beginPath();
	 context.moveTo(y, poz_x1);
	 context.lineTo(y10, poz_x2);
	 poz_x1 = poz_x2;
	 y = y + 10;
	 context.stroke();
	}
	
	function draw_line(){
		 var b_canvas = document.getElementById("graph");
		 var context = b_canvas.getContext("2d");
		context.beginPath();
		context.lineWidth=0.5;
		context.moveTo(300, 75);	
		context.lineTo(0, 75);
		context.strokeStyle = '#FF0000';
		context.stroke();
	}
	
	function clean_canvas() {
		var b_canvas = document.getElementById("graph");
		var context = b_canvas.getContext("2d");
		poz_x1, poz_x2, y = 0;
		context.clearRect(0, 0, 300, 500);
		}
	</script>
	<canvas id="graph"> </canvas>
	<div id="navigraph">
		<button id="graphicbutton" onclick="to_graph()" style="width:120px">Back to calculator</button>
	</div>
	</div>
</body>
</html>
